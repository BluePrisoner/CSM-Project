<h2 style="text-align:center;">User Profile</h2>

<form id="updateForm" action="/user/dashboard/userinfo" method="POST" class="user-profile-form">
    <label for="fname">Full Name:</label>
    <div class="full-name-container">
      <input type="text" id="fname" name="fname" value="<%= user.fname %>" required />
      <input type="text" id="lname" name="lname" value="<%= user.lname %>" required />
    </div>
  
    <label for="email">Email:</label>
    <input class="input-info" type="email" id="email" name="email" value="<%= user.email %>" readonly />
  
    <label for="phone">Phone Number:</label>
    <input class="input-info" type="text" id="phone" name="phone" value="<%= user.phone || '' %>" />
  
    <label for="address">Address:</label>
    <textarea id="address" name="address" rows="3"><%= user.address || '' %></textarea>
  
    <button type="button" onclick="showConfirmation()">Update Profile</button>
  </form>
  



<!-- Confirmation Overlay -->
<div class="overlay" id="confirmationOverlay" style="display: none;">
    <div class="payment-card">
      <h2>Confirm Update</h2>
      <p>Are you sure you want to update your information?</p>
      <button onclick="submitUpdate()">Yes, Confirm</button>
      <button onclick="closeOverlay()" style="margin-left: 10px;">Cancel</button>
    </div>
  </div>
  



<!-- JS to handle overlay -->
<script>
  const overlay = document.getElementById('confirmationOverlay');
  const form = document.getElementById('updateForm');

  function showConfirmation() {
    if (form.checkValidity()) {
      overlay.style.display = 'flex';
    } else {
      form.reportValidity();
    }
  }

  function closeOverlay() {
    overlay.style.display = 'none';
  }

  function submitUpdate() {
    form.submit();
  }
</script>
